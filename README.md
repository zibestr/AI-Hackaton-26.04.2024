# Интеллектуальный анализатор обратной связи студентов
> Данный репозиторий является решением команды **ZhимоVики** на хакатоне *Цифровой прорыв 2024: сезон ИИ (ЦФО)*.

## Содержание

- [Установка и запуск проекта](#установка-и-запуск-проекта)
- [Задача](#Задача)
- [Концепция решения](#Концепция-решения)
- [Обработка данных](#Обработка-данных)
- [Реализация проекта](#Реализация-проекта)
- [Масштабируемость](#Масштабируемость)
- [Стек технологий](#Стек-технологий)
- [О команде](#О-команде)

---

## Установка и запуск проекта

### Windows
Для запуска проекта нужно склонировать репозиторий:
```shell
git clone https://github.com/zibestr/Feedback-Analytics.git
```
Далее нужен запуск script.bat, который установит модели, установит инсталятор питона для вариативности установки, установит venv и активирует его.
Запуск сайта производится командой:
```shell
python ./src/main.py
```
Запуск бота производится командой:
```shell
python ./src/bot.py
```

### Linux & MacOs

Для запуска проекта нужно склонировать репозиторий:
```shell
git clone https://github.com/zibestr/Feedback-Analytics.git
```
Затем нужно запустить скрипт launch/script.sh:
```shell
source ./launch/script.sh
```
Запуск сайта производится командой:
```shell
python3 ./src/main.py
```
Запуск бота производится командой:
```shell
python3 ./src/bot.py
```

### Запуск проекта в контейнере

Для запуска проекта нужно скачать Docker. На Linux его можно скачать командой:
```shell
sudo snap install docker
```
Затем склонировать репозиторий:
```shell
git clone https://github.com/zibestr/Feedback-Analytics.git
```
И выполнить сборку приложения:
```shell
sudo docker compose up
```

---

## Задача
> Разработка чат-бота для детализированного анализа и категоризации обратной связи от студентов после вебинаров.

Создать сервис с искусственным интеллектом, способный анализировать и категоризировать обратную связь от студентов **GeekBrains**. Сервис должен автоматически различать информативную и неинформативную обратную связь, выделяя положительные и отрицательные аспекты курса.

Разработать механизм, который поможет образовательной платформе повысить качество обучения, основываясь на конкретных и аналитически обработанных данных.

---

## Концепция решения

### Преобразование входных данных

1. Отзывы пользователей загружаются в .csv файл и передаются на вход алгоритма предобратки данных.
2. Алгоритм объединяет ответы на вопросы в один большой ответ (для каждого пользователя отдельно).
3. Далее алгоритм нормализует полученный текст:
    - убирает символы пунктуации;
    - удаляет неинформативные слова (междометия, предлоги и тд.);
    - приводит все слова в их начальную форму.
4. Алгоритм разбивает полученный текст на токены (отдельные слова) и использует алгоритм BoW (Bag of Words) для представления токенов в числовом виде.

### Классификация отзывов

- На каждый отдельный класс используется свой собственный обученный классификатор:
- Классификация релевантности отзыва: алгоритм *AdaBoost* над решающими деревьями маленькой глубины;
- Классификация объекта отзыва: алгоритм *The Complement Naive Bayes*;
- Эмоциональный анализ отзыва: алгоритм *Градиентный бустинг* над решающими деревьями маленькой глубины.

### Тематическое моделирование

- Разработан алгоритм для выделения ключевых слов из текста отзыва студента - *Неотрицательное матричное разложение (Non-Negative Matrix Factorization)*, алгоритм способен выделить любое заданное количество ключевых слов из представленного текста.

---

## Обработка данных

### NLP

Для обработки естественного языка используется библиотека с открытым исходным кодом и свободной лицензией - *natasha*. Это библиотека предоставляет возможности для синтаксического, морфологического анализов, разбиение текста на токены, приведение слов в начальную форму (именительный падеж, единственное число, инфинитив и тд).

### Векторизация

Текст преобразуется в токены (отдельные слова), которые переводятся в начальную форму. Для векторизации полученных токенов используется алгоритм *Bag of Words (BoW)* из библиотеки *scikit-learn*. BoW высчитывает частоту встречи отдельного токена во всем тексте и каждому токену подставляют его частоту встречи в заданном тексте.

---

## Реализация проекта

Реализованный продукт - чат-бот в мессенджере Telegram и веб-сайт с панелью администратора, где предоставлены инструменты автоматического формирования аналитики по отзывам учеников о вебинарах.

---

## Масштабируемость

Система состоит из модулей, что делает её легко масштабируемой. Все реализованные модули находятся в папке [src](src/):
+ [analytics](src/analytics/): автоматическое формирование отчётности об обратной связи студентов, на основе алгоритмов ИИ
+ [db_models](src/db_models/): создание базы данных и её таблиц
+ [static](src/static/): описание стилей и статические элементы веб-приложения
+ [templates](src/templates/): html шаблоны для веб-приложения
+ [tools](src/tools/): вспомогательные скрипты для
    - Обучения модели ИИ
    - Форм веб-приложения
    - Работы с паролями в веб-приложении
    - Отрисовки графиков
    - Осуществления предсказания модели

---

## Процесс обучения моделей ИИ

Для запуска процесса обучения в модуле **src.tools.fit_models** есть функция **fit**.\
Чтобы запустить процесс обучения, используйте ***код в Jupyter Notebook или Python файле***:
```python
from src.tools.fit_models import fit

fit('<dataset_filename>.csv')
```
---

## Модель ИИ

### Архитектура итогового классификатора
![Best Classifier in the World](/data/model_repr.png "MultiLabelsClassifier")
---

## Стек технологий
+ Язык программирования: [Python 3.10+](https://www.python.org/)
+ [NumPy](https://numpy.org/) - для быстрых вычислений
+ [Pandas](https://pandas.pydata.org/) - для удобного представления табличных данных и работы с ними
+ [natasha](https://natasha.github.io/) - для предварительной обработки естественного (русского) языка
+ [scikit-learn](https://scikit-learn.org/stable/) - для препроцессинга данных и классификации
+ [aiogram](https://aiogram.dev/) - для реализации бота в telegram
+ [Flask](https://flask.palletsprojects.com/en/3.0.x/) - для реализации веб-интерфейса для преподавателей и администраторов

---

## О команде
- [Яшин Данила](https://github.com/zibestr) (Team Lead, ML Engineer)
- [Основин Александр](https://github.com/PyAlexOs) (Full-stack Developer, Documentation)
- [Егоров Леонид](https://github.com/Grander78498) (Data Scientist, DevOps)
- [Корольков Александр](https://github.com/adkorolkov) (Backend, Data Engineer)
